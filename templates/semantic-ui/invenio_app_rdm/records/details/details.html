{%- from "invenio_app_rdm/records/macros/detail.html" import list_formats, list_languages,
  list_sizes, show_add_descriptions, show_add_titles, show_dates, show_detail, show_funding,
  show_references, show_related_identifiers %}

<dt><b>{{ _('Details')}}</b></dt>
<hr class="thin-line"></hr>
<dd class="top-bottom-padded">
  {% if record.metadata.resource_type.type in [ "knowledge" ] %}
<dt class="record-info-title">
  <p>This Knowledge Package contains the following elements:</p>
</dt>
<dd>
  <div class="list-unstyled" style="list-style: none;">
    {%- for related in record.metadata.related_identifiers %}
      {% if related.resource_type.type in [ "publication"] %}
    <li>
        <i class="file alternate icon"></i>
    <a href="{{related.identifier}}" target="_blank"> {{related.identifier}} </a>
    </li>
      {%- elif related.resource_type.type in [ "software"] %}
      <li>
        <i class="code icon"></i>
    <a href="{{related.identifier}}" target="_blank"> {{related.identifier}} </a>
    </li>
      {%- elif related.resource_type.type in [ "dataset"] %}
      <li>
        <i class="database icon"></i>
    <a href="{{related.identifier}}" target="_blank"> {{related.identifier}} </a>
    </li>
      {%- else %}
      <li>
        <i class="cog icon"></i>
    <a href="{{related.identifier}}" target="_blank"> {{related.identifier}} </a>
    </li>
      {%- endif %}
    {%- endfor %}
  </div>
</dd>
<br>
<hr class="thin-line"></hr>
  {%-else %}
<dt class="record-info-title">
  <p>See the full Knowledge Package:</p>
</dt>
<dd>
  <div class="list-unstyled" style="list-style: none;">
    {%- for related in record.metadata.related_identifiers %}
      {% if related.resource_type.type in ["knowledge"] %}
    <li>
      <i class="archive icon"></i>
      <a href="{{related.identifier}}" target="_blank"> {{related.identifier}} </a>
    </li>
      {%- endif %}
    {%- endfor %}
  </div>
</dd>
<br>
<hr class="thin-line"></hr>
  {%- endif %}

  {{ show_detail(_('Resource type'), record.ui.resource_type) if record.ui.resource_type }}
  {{ show_detail(_('Publication date'), record.ui.publication_date_l10n) if record.ui.publication_date_l10n }}
  {{ show_detail(_('Publisher'), metadata.publisher) if metadata.publisher }}
  {{ show_detail(_('Additional titles'), show_add_titles(metadata.additional_titles)) if metadata.additional_titles }}
  {{ show_detail(_('Additional descriptions'), show_add_descriptions(metadata.additional_descriptions)) if metadata.additional_descriptions }}
  {{ show_detail(_('Dates'), show_dates(metadata.dates)) if metadata.dates }}
  {{ show_detail(_('Languages'), list_languages(record.ui.languages)) if record.ui.languages }}
  {{ show_detail(_('Formats'), list_formats(metadata.formats)) if metadata.formats }}
  {{ show_detail(_('Sizes'), list_sizes(metadata.sizes)) if metadata.sizes }}
  {{ show_detail(_('Funding'), show_funding(metadata.funding)) if metadata.funding }}
  {{ show_detail(_('References'), show_references(metadata.references)) if metadata.references }}
</dd>
<hr class="thin-line"></hr>